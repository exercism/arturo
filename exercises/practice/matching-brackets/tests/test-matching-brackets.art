import.version:2.0.1 {unitt}!
import {src/matching-brackets}!

describe "Matching Brackets" [
    it "paired square brackets" [
        expects.be:'true? @[paired? "[]"]
    ]

    it.skip "empty string" [
        expects.be:'true? @[paired? ""]
    ]

    it.skip "unpaired brackets" [
        expects.be:'false? @[paired? "[["]
    ]

    it.skip "wrong ordered brackets" [
        expects.be:'false? @[paired? "}{"]
    ]

    it.skip "wrong closing bracket" [
        expects.be:'false? @[paired? "{]"]
    ]

    it.skip "paired with whitespace" [
        expects.be:'true? @[paired? "{ }"]
    ]

    it.skip "partially paired brackets" [
        expects.be:'false? @[paired? "{[])"]
    ]

    it.skip "simple nested brackets" [
        expects.be:'true? @[paired? "{[]}"]
    ]

    it.skip "several paired brackets" [
        expects.be:'true? @[paired? "{}[]"]
    ]

    it.skip "paired and nested brackets" [
        expects.be:'true? @[paired? "([{}({}[])])"]
    ]

    it.skip "unopened closing brackets" [
        expects.be:'false? @[paired? "{[)][]}"]
    ]

    it.skip "unpaired and nested brackets" [
        expects.be:'false? @[paired? "([{])"]
    ]

    it.skip "paired and wrong nested brackets" [
        expects.be:'false? @[paired? "[({]})"]
    ]

    it.skip "paired and wrong nested brackets but innermost are correct" [
        expects.be:'false? @[paired? "[({}])"]
    ]

    it.skip "paired and incomplete brackets" [
        expects.be:'false? @[paired? "{}["]
    ]

    it.skip "too many closing brackets" [
        expects.be:'false? @[paired? "[]]"]
    ]

    it.skip "early unexpected brackets" [
        expects.be:'false? @[paired? ")()"]
    ]

    it.skip "early mismatched brackets" [
        expects.be:'false? @[paired? "{)()"]
    ]

    it.skip "math expression" [
        expects.be:'true? @[paired? "(((185 + 223.85) * 15) - 543)/2"]
    ]

    it.skip "complex latex expression" [
        expects.be:'true? @[paired? "\left(\begin{array}{cc} \frac{1}{3} & x\\ \mathrm{e}^{x} &... x^2 \end{array}\right)"]
    ]
]
